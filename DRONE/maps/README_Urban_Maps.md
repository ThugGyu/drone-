# Urban City Maps for Drone Navigation

이 폴더에는 드론 네비게이션을 위한 사실적인 도심 환경 맵들이 포함되어 있습니다.

## 📁 맵 파일들

### 기본 맵 파일들
- `urban_city.yaml` - 도심 환경 맵 설정 파일
- `urban_city_improved.pgm` - 실제 맵 데이터 (생성 후)
- `drone_arena.yaml` - 업그레이드된 기본 맵 설정
- `drone_arena_preview.txt` - 맵 레이아웃 미리보기

### 생성 도구들
- `generate_urban_map.py` - Python을 사용한 맵 생성기
- `generate_urban_map.m` - MATLAB을 사용한 맵 생성기
- `create_urban_map.bat` - Windows 배치 파일

## 🏙️ 도심 환경 특징

### 건물 및 구조물
- **고층 빌딩** (중심 비즈니스 지구)
  - 높이: 10-50m
  - 드론 네비게이션의 주요 장애물
- **주거용 건물** (코너 지역)
  - 높이: 5-15m
  - 밀집된 배치로 복잡한 경로 계획 필요

### 도로 네트워크
- **주요 도로** (4차선, 회색)
- **보조 도로** (2차선, 밝은 회색)
- **교차로** (검은색 표시)
- 20m 간격의 격자 패턴

### 안전 구역
- **공원 지역** (밝은 회색)
  - 비상 착륙 가능
  - 장애물 없는 비행 공간
- **지정 착륙 구역** (흰색)
  - 4개의 비상 착륙 지점
  - 병원, 학교 근처 배치

### 추가 시설
- **주차장** (중간 회색)
- **금지 비행 구역**
  - 병원 주변 (5m 반경)
  - 학교 주변 (3m 반경)

## 🚁 드론 운항 가이드

### 권장 비행 고도
- **최소 고도**: 5m (안전 여유)
- **최대 고도**: 50m (도심 환경 한계)
- **일반 비행**: 15-25m (최적 센서 범위)

### 네비게이션 전략
1. **건물 회피**: 3m 이상의 안전 거리 유지
2. **도로 따라 비행**: 가장 안전한 경로
3. **교차로 주의**: 복잡한 기류 패턴
4. **비상 계획**: 가까운 착륙 구역 파악

### 센서 설정
- **LiDAR 범위**: 100m (건물 감지)
- **카메라 해상도**: 1280x720 (고해상도 인식)
- **다중 에코**: 활성화 (복잡한 반사 처리)

## ⚙️ 맵 생성 방법

### Python 사용 (권장)
```bash
cd DRONE/maps
pip install opencv-python pillow numpy
python generate_urban_map.py
```

### MATLAB 사용
```matlab
cd('DRONE/maps')
generate_urban_map()
```

### 수동 설정
1. `create_urban_map.bat` 실행
2. 기본 레이아웃 확인
3. 필요시 Python/MATLAB로 고해상도 맵 생성

## 🔧 맵 커스터마이징

### 건물 밀도 조정
- `building_density` 파라미터 수정
- 도심/주거 지역 비율 변경

### 도로 패턴 변경
- `road_spacing` 조정 (기본: 20m)
- 대각선 도로 추가 가능

### 착륙 구역 추가
- `emergency_landing_zones` 배열에 좌표 추가
- 크기 및 접근성 고려

### 금지 구역 설정
- `no_fly_zones` 설정으로 특정 영역 차단
- 학교, 병원, 공항 등 중요 시설 보호

## 📊 성능 최적화

### 맵 해상도
- **고해상도** (5cm/pixel): 정밀 네비게이션
- **중해상도** (10cm/pixel): 일반 비행
- **저해상도** (20cm/pixel): 빠른 계산

### 계산 복잡도
- 건물 수 vs 계산 시간 트레이드오프
- 실시간 요구사항에 따른 조정

## 🚨 안전 고려사항

### 비상 절차
1. **통신 두절**: 자동으로 가까운 착륙 구역으로 이동
2. **배터리 부족**: 경로 재계산 및 비상 착륙
3. **악천후**: 안전한 대기 지점으로 대피

### 법적 준수
- 도심 지역 드론 운항 규정 확인
- 비행 허가 및 신고 의무 준수
- 개인정보 보호 및 촬영 제한 고려

## 📈 향후 개선 계획

### 고급 기능
- **기상 효과**: 바람, 비, 안개 시뮬레이션
- **교통 시뮬레이션**: 동적 차량 움직임
- **시간대별 변화**: 낮/밤 조명 효과
- **계절별 변화**: 나무, 날씨 패턴

### AI/ML 통합
- **건물 인식**: 딥러닝 기반 장애물 감지
- **경로 학습**: 강화학습으로 최적화
- **예측 분석**: 교통 및 날씨 예측

## 📞 지원 및 문의

문제가 발생하거나 개선 사항이 있으면 다음을 확인하세요:

1. **로그 파일**: `/logs/` 폴더의 오류 메시지
2. **설정 확인**: YAML 파일의 파라미터
3. **종속성**: 필요한 패키지 설치 상태
4. **시스템 요구사항**: CPU, 메모리, GPU 사양

---

*이 맵은 드론 자율 비행 교육 및 연구 목적으로 제작되었습니다. 실제 운항 시에는 항공 규정을 반드시 준수하시기 바랍니다.* 